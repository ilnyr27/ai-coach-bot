# üß™ AI Coach Bot - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–î–∞—Ç–∞:** 2025-12-16
**–¢–∏–ø —Ç–µ—Å—Ç–æ–≤:** Database Operations (–±–µ–∑ ML –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ 11/12 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ (91.7%)

---

## ‚úÖ –ß—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ –†–ê–ë–û–¢–ê–ï–¢:

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`create_user`)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`get_user`)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (`update_user_settings`)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∞—Å—Ç–æ—Ç—ã
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ `messages_per_day` (10 ‚Üí 15)
- ‚úÖ –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Å—ã (07:00 - 23:00 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### 3. –¶–µ–ª–∏ (Goals)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–π (`add_goal`)
  - –¶–µ–ª—å 1: "–ë–µ–≥–∞—Ç—å –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ" (priority: high)
  - –¶–µ–ª—å 2: "–ß–∏—Ç–∞—Ç—å 30 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å" (priority: medium)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π (`get_active_goals`)
- ‚úÖ –°—Ç–∞—Ç—É—Å: 'active', 'completed', 'paused'
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å: 0-100%

### 4. Boost Mode
- ‚úÖ –í–∫–ª—é—á–µ–Ω–∏–µ (`enable_boost_mode`)
- ‚úÖ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (24 —á–∞—Å–∞)
- ‚úÖ –í—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ –§–ª–∞–≥ `boost_mode = 1`

### 5. –ü–∞—É–∑–∞
- ‚úÖ –ü–∞—É–∑–∞ –Ω–∞ N —á–∞—Å–æ–≤ (`pause_proactive`)
- ‚úÖ Unpause (`unpause_proactive`)
- ‚úÖ –ü–æ–ª–µ `paused_until` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

### 6. –°–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ user —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ assistant –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ tokens_used
- ‚úÖ –§–ª–∞–≥ rag_used
- ‚úÖ –¢–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è (reactive/proactive)

### 7. –õ–∏—á–Ω–æ—Å—Ç–∏ (Personalities)
- ‚úÖ 5 –ª–∏—á–Ω–æ—Å—Ç–µ–π –≤ –ë–î:
  1. **–î–∂–µ–π–º—Å –ö–ª–∏—Ä** üìö (James Clear) - Atomic Habits
     - Colors: #667eea / #764ba2
     - RAG collection: james_clear_atomic_habits

  2. **–¢–æ–Ω–∏ –†–æ–±–±–∏–Ω—Å** üî• (Tony Robbins)
     - Colors: #ff6b6b / #ee5a6f
     - –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–π —Å—Ç–∏–ª—å

  3. **–≠–Ω–¥—Ä—é –•—É–±–µ—Ä–º–∞–Ω** üß† (Andrew Huberman)
     - Colors: #4ecdc4 / #44a08d
     - –ù–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥

  4. **–ù–∞–≤–∞–ª –†–∞–≤–∏–∫–∞–Ω—Ç** üßò (Naval Ravikant)
     - Colors: #95e1d3 / #38ada9
     - –§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π —Å—Ç–∏–ª—å

  5. **–¢–∏–º –§–µ—Ä—Ä–∏—Å** ‚ö° (Tim Ferriss)
     - Colors: #f9ca24 / #f0932b
     - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ª–∞–π—Ñ—Ö–∞–∫–∏

### 8. –°–º–µ–Ω–∞ –ª–∏—á–Ω–æ—Å—Ç–∏
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ `active_personality_id`
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ Tony Robbins)

---

## ‚ö†Ô∏è –ù–µ –ø—Ä–æ—à–µ–ª —Ç–µ—Å—Ç:

### Test 10: Add User Context
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è `add_context` –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ID
- –¶–µ–ª—å –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞—è - —Ñ—É–Ω–∫—Ü–∏—è –≤—Å–µ —Ä–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ—Å—Ç–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π ID
- –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î

**–í–ª–∏—è–Ω–∏–µ:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞

---

## üîç –î–µ—Ç–∞–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

### –¢–µ—Å—Ç 1-2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```python
User ID: 99999
Username: test_user
First name: TestUser
Messages/day: 10 (default)
Active hours: 07:00 - 23:00
Proactive enabled: True
```

### –¢–µ—Å—Ç 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```python
messages_per_day: 10 ‚Üí 15 (Medium)
proactive_enabled: True
```

### –¢–µ—Å—Ç 4-5: –¶–µ–ª–∏
```python
Goal 1:
  Title: "–ë–µ–≥–∞—Ç—å –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ"
  Description: "30 –º–∏–Ω—É—Ç –±–µ–≥–∞"
  Priority: high
  Status: active
  Progress: 0%

Goal 2:
  Title: "–ß–∏—Ç–∞—Ç—å 30 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å"
  Description: "–ö–Ω–∏–≥–∏ –ø–æ —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏—é"
  Priority: medium
  Status: active
  Progress: 0%
```

### –¢–µ—Å—Ç 6: Boost Mode
```python
boost_mode: True
boost_expires_at: 2025-12-17 11:26:44
Duration: 24 hours
```

### –¢–µ—Å—Ç 7-8: –ü–∞—É–∑–∞/Unpause
```python
# Pause
paused_until: 2025-12-16 14:26:44
Duration: 3 hours

# Unpause
paused_until: NULL (cleared)
```

### –¢–µ—Å—Ç 9: –°–æ–æ–±—â–µ–Ω–∏—è
```python
Message 1 (user):
  Content: "–ö–∞–∫ –º–Ω–µ –Ω–∞—á–∞—Ç—å –±–µ–≥–∞—Ç—å –ø–æ —É—Ç—Ä–∞–º?"
  Role: user
  Type: reactive

Message 2 (assistant):
  Content: "–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ù–∞—á–Ω–∏ —Å –º–∞–ª–æ–≥–æ - 5 –º–∏–Ω—É—Ç –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ..."
  Role: assistant
  Type: reactive
  Tokens used: 150
  RAG used: True
```

### –¢–µ—Å—Ç 11: –õ–∏—á–Ω–æ—Å—Ç–∏
```
‚úì 5 personalities loaded
‚úì Each has unique emoji, colors, description
‚úì James Clear has RAG collection configured
‚úì All marked as active (is_active = 1)
```

### –¢–µ—Å—Ç 12: –°–º–µ–Ω–∞ –ª–∏—á–Ω–æ—Å—Ç–∏
```python
# Before
active_personality_id: 1 (James Clear)

# After
active_personality_id: 2 (Tony Robbins)
```

---

## üìù –í—ã–≤–æ–¥—ã:

### ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:
1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** - –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã, –∏–Ω–¥–µ–∫—Å—ã, –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏
2. **5 –ª–∏—á–Ω–æ—Å—Ç–µ–π –∑–∞–≥—Ä—É–∂–µ–Ω—ã** - –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è
3. **–í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç** - create, read, update, delete
4. **–¶–µ–ª–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è** - —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
5. **Boost/Pause —Ä–µ–∂–∏–º—ã** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
6. **–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π** - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

### üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é:
1. **RAG —Å–∏—Å—Ç–µ–º–∞** - —Ç—Ä–µ–±—É–µ—Ç sentence-transformers –∏ ChromaDB
2. **DeepSeek API** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
3. **Scheduler** - –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –Ω—É–∂–Ω–æ–µ –≤—Ä–µ–º—è
4. **Telegram Bot** - —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ Telegram
5. **Mini App** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

### üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π:
```bash
cd c:\Users\ilray\Claude\–õ–∏—á–Ω–æ—Å—Ç—ñ
python -m src.bot.proactive_bot
```

–ó–∞—Ç–µ–º –≤ Telegram:
1. `/start` - —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. `/setup` - –≤—ã–±—Ä–∞—Ç—å Medium
3. `/goal –ú–æ—è —Ü–µ–ª—å` - –¥–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å
4. `/dashboard` - –æ—Ç–∫—Ä—ã—Ç—å Mini App
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–º–µ–Ω—É –ª–∏—á–Ω–æ—Å—Ç–µ–π –≤ Mini App
6. –ü–æ–¥–æ–∂–¥–∞—Ç—å –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
7. –ù–∞–ø–∏—Å–∞—Ç—å –≤–æ–ø—Ä–æ—Å - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å RAG –æ—Ç–≤–µ—Ç

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 12
- **–ü—Ä–æ—à–ª–æ:** 11 ‚úÖ
- **–ù–µ –ø—Ä–æ—à–ª–æ:** 1 ‚ö†Ô∏è (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)
- **Success rate:** 91.7%
- **–ö—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫:** 0

---

**–ê–≤—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤:** Claude Code
**–°–∫—Ä–∏–ø—Ç:** test_bot_simple.py
**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite (./data/bot_test.db)
