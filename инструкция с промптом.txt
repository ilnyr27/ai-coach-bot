Ильнур, [16.12.2025 11:24]
# Задача: Создать [описание проекта] с полным тестированием

## Архитектура проекта
- Frontend: React + TypeScript + Vite
- Backend: Node.js + Express
- База данных: PostgreSQL (Supabase)
- Деплой: Vercel
- Telegram Bot: node-telegram-bot-api

## Требования к функционалу

### 1. Веб-приложение (Telegram Mini App)
- [ ] Главная страница с [описание UI]
- [ ] Кнопка "[название]" открывает [что делает]
- [ ] Форма с полями: [список полей]
- [ ] Валидация: [правила валидации]
- [ ] Отображение данных из БД в виде [таблица/карточки/список]

### 2. Telegram Bot
- [ ] Команда /start - [что делает]
- [ ] Кнопка "Открыть приложение" - запускает Mini App
- [ ] Кнопка "[название]" - [действие]
- [ ] Обработка callback_query для inline кнопок

### 3. База данных PostgreSQL
`sql
-- Таблица users
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  telegram_id BIGINT UNIQUE NOT NULL,
  username VARCHAR(255),
  created_at TIMESTAMP DEFAULT NOW()
);

-- Таблица [твоя_таблица]
CREATE TABLE orders (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id),
  status VARCHAR(50),
  data JSONB,
  created_at TIMESTAMP DEFAULT NOW()
);
4. API Endpoints
POST /api/users - создание пользователя
GET /api/users/:telegramId - получение данных
POST /api/orders - создание заказа
GET /api/orders/:userId - список заказов
PUT /api/orders/:id - обновление статуса
Обязательное тестирование
После создания каждого файла:
Проверить синтаксис: убедиться что нет ошибок TypeScript
Проверить импорты: все зависимости установлены
Проверить типы: TypeScript типы корректны
После создания frontend:
Запустить npm run dev
Проверить что приложение открывается без ошибок в консоли
Кликнуть каждую кнопку и убедиться что:
Она реагирует на клик
Выполняется правильное действие
Нет ошибок в консоли браузера
Заполнить форму и отправить - проверить что данные отправляются
Проверить адаптивность на мобильном разрешении (375px)
После создания backend:
Запустить сервер node server.js
Протестировать каждый endpoint через curl или Postman:
# Создание пользователя
curl -X POST http://localhost:3000/api/users \
  -H "Content-Type: application/json" \
  -d '{"telegramId": 123456, "username": "test"}'

# Получение пользователя
curl http://localhost:3000/api/users/123456
Проверить что ответы корректны
Проверить обработку ошибок (неверные данные, несуществующий ID)
После настройки базы данных:
Подключиться к Supabase
Выполнить SQL скрипты создания таблиц
Вручную добавить тестовую запись через SQL Editor
Проверить что данные сохранились
Протестировать через API что данные читаются
После создания Telegram бота:
Запустить бота локально
Открыть бота в Telegram
Нажать /start - проверить что:
Приходит правильное сообщение
Отображаются кнопки
Кнопки кликабельны
Кликнуть "Открыть приложение" - проверить что открывается Mini App
Кликнуть каждую inline кнопку - проверить callback_query обрабатывается
Проверить логи в консоли - нет ошибок
Интеграционное тестирование:
Полный флоу: Telegram → Mini App → API → Database → обратно
Создать заказ через Mini App
Проверить что запись появилась в БД
Проверить что данные отображаются в интерфейсе
Обновить статус через бота
Проверить что изменения отразились в Mini App
Чек-лист перед деплоем
[ ] Все environment переменные настроены в .env.example
[ ] В package.json указаны все зависимости
[ ] Создан vercel.json с правильными настройками
[ ] В README.md описана установка и настройка
[ ] Все эндпоинты возвращают правильные HTTP статусы
[ ] Обработка ошибок работает корректно
[ ] CORS настроен для Telegram Mini App
[ ] Валидация данных на фронте и бэке
План пошаговой разработки
Создать структуру проекта
Настроить PostgreSQL схему в Supabase
Создать backend API
Протестировать API endpoints
Создать frontend React
Протестировать UI и кнопки
Создать Telegram бота
Протестировать бота

Ильнур, [16.12.2025 11:24]
Интегрировать все части
Финальное тестирование
Деплой на Vercel
Тестирование в продакшене
Важные моменты
После каждого шага - останавливаться и тестировать
Не переходить к следующему шагу пока текущий не работает
Логировать все действия console.log для отладки
Проверять Network tab в браузере для API запросов
Проверять консоль бота для telegram событий
Начни с шага 1 и после каждого шага спрашивай: "Шаг N завершен. Запустить тесты?"
---

Ключевые принципы промпта:

1. Четкая структура - чек-листы для каждого этапа
2. Конкретные команды - curl примеры для тестирования
3. Пошаговость - не делать все сразу
4. Обязательное тестирование - после каждого компонента
5. Примеры проверок - что именно кликать и проверять

Как использовать:

1. Скопируй этот шаблон
2. Замени [описание] на свой проект
3. Добавь специфичные для твоего проекта требования
4. Отправь Claude в VS Code
5. После каждого шага проси: "Протестируй что все работает"

Адаптирую этот промпт под конкретный твой проект коучинг-бот